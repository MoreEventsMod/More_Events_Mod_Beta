namespace = mem_aliens

# Gatekeeper event initialized by the primitives
country_event = {
	id = mem_aliens.1
	hide_window = yes

	mean_time_to_happen = {
		years = 100
	}

	trigger = {
		NOT = { has_global_flag = mem_aliens_initial_happening }
		mid_game_years_passed > 0
		is_country_type = primitive
		NOT = {
			has_country_flag = mem_crucible_country
		}
		OR = {
			has_country_flag = iron_age
			has_country_flag = late_medieval_age
			has_country_flag = renaissance_age
		}
		exists = capital_scope
		capital_scope = {
			has_observation_outpost = yes
			observation_outpost_owner = {
				is_ai = no
			}
			observation_outpost = {
				has_mission = specimen_collection
			}
		}
	}

	immediate = {
		set_global_flag = mem_aliens_initial_happening
		random_list = {
			1 = {
				save_event_target_as = primitive_guys
				capital_scope = {
					observation_outpost_owner = {
						save_event_target_as = quest_country
						country_event = { id = mem_aliens.2 }
					}
				}
			}
		}
	}
}