##################################
# More Event Mod Paradise worlds
# by Malthus
##################################

namespace = mem_paradise_worlds

event = {
	id = mem_paradise_worlds.1
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				is_ai = no
			}
			country_event = { id = mem_paradise_worlds.2 days = 4 }
		}
	}
}

# Game Start Event to add the planet modifier
country_event = {
	id = mem_paradise_worlds.2
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_planet = {
			limit = {
				OR = {
					is_planet_class = pc_gaia
					is_planet_class = pc_ringworld_habitable
				}
			}
			add_modifier = {
				modifier = mem_paradise_world
				days = -1
			}
		}
	}
}

#yearly check for planets that miss the modifier or those that should not have it anymore
event = {
	id = mem_paradise_worlds.3
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = mem_paradise_worlds_OFF
		}
	}
	
	immediate = {
		#add to planets that need the modifier
		IF = {
			limit = {
				any_planet = {
					OR = {
						is_planet_class = pc_gaia
						is_planet_class = pc_ringworld_habitable
					}
					NOT = {
						has_modifier = mem_paradise_world
					}
				}
			}
			every_planet = {
				limit = {
					OR = {
						is_planet_class = pc_gaia
						is_planet_class = pc_ringworld_habitable
					}
					NOT = {
						has_modifier = mem_paradise_world
					}
				}
				add_modifier = {
					modifier = mem_paradise_world
					days = -1
				}
			}
		}
		#remove from planets that should not have the modifier
		IF = {
			limit = {
				any_planet = {
					NOR = {
						is_planet_class = pc_gaia
						is_planet_class = pc_ringworld_habitable
					}
					has_modifier = mem_paradise_world
				}
			}
			every_planet = {
				limit = {
					NOR = {
						is_planet_class = pc_gaia
						is_planet_class = pc_ringworld_habitable
					}
					has_modifier = mem_paradise_world
				}
				remove_modifier = mem_paradise_world
			}
		}
	}
}