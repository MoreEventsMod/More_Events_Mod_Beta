# Into The Woods
# By ViolentBeetle

namespace = mem_into_the_woods

fleet_event = {
    id = mem_into_the_woods.1
    title = mem_into_the_woods.1.name
    desc = mem_into_the_woods.1.desc

    is_triggered_only = yes
    archaeology = yes

    picture = GFX_evt_overgrown_city
    show_sound = event_finding_loot

    immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

    option = {
        name = DIG
    }
}
fleet_event = {
    id = mem_into_the_woods.2
    title = mem_into_the_woods.2.name
    desc = mem_into_the_woods.2.desc

    is_triggered_only = yes
    archaeology = yes

    picture = GFX_evt_mem_desert_landscape
    show_sound = event_finding_loot

    immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

    option = {
        name = DIG
        small_artifact_reward = yes
    }
}
fleet_event = {
    id = mem_into_the_woods.3
    title = mem_into_the_woods.3.name
    desc = mem_into_the_woods.3.desc

    is_triggered_only = yes
    archaeology = yes

    picture = GFX_evt_emergency_workers
    show_sound = event_finding_loot

    immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

    option = {
        name = DIG
        small_artifact_reward = yes
    }
}
fleet_event = {
    id = mem_into_the_woods.4
    title = mem_into_the_woods.4.name
    desc = mem_into_the_woods.4.desc

    is_triggered_only = yes
    archaeology = yes

    picture = GFX_evt_hive_mind
    show_sound = event_finding_loot

    immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

    option = {
        name = mem_into_the_woods.4.a
        small_artifact_reward = yes
    }
}
fleet_event = {
    id = mem_into_the_woods.5
    title = mem_into_the_woods.5.name
    desc = mem_into_the_woods.5.desc

    is_triggered_only = yes
    archaeology = yes

    picture = GFX_evt_mem_colossal_roots
    show_sound = event_finding_loot

    immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
        from = { set_site_progress_locked = no }
        from.planet = { remove_deposit = d_mem_into_the_woods_ruins } 
        medium_artifact_reward = yes
    }

    option = {
        name = mem_into_the_woods.5.a

        trigger = {
            owner = {
                is_xenophile = no
                NOR = { 
                    has_valid_civic = civic_machine_servitor
                    has_valid_civic = civic_machine_terminator
                    has_valid_civic = civic_hive_devouring_swarm
                    has_valid_civic = civic_fanatic_purifiers
                }
            }
        }
        from.planet = { add_deposit = d_mem_into_the_woods_old_growth }
    }
    option = {
        name = mem_into_the_woods.5.b

        trigger = {
            owner = {
                OR = {
                    has_ethic = ethic_fanatic_xenophile
                    has_ethic = ethic_xenophile
                }
            }
        }
        from.planet = { add_deposit = d_mem_into_the_woods_old_growth }
    }
    option = {
        name = into_the_woods.5.c

        trigger = {
            owner = {
                has_valid_civic = civic_machine_servitor
            }
        }
        from.planet = { add_deposit = d_mem_into_the_woods_old_growth }
    }

    option = {
        name = mem_into_the_woods.5.d
        trigger = {
            owner = {
                is_xenophile = no
                is_xenophobe = no
                NOR = { 
                    has_valid_civic = civic_machine_servitor
                    has_valid_civic = civic_machine_terminator
                    has_valid_civic = civic_hive_devouring_swarm
                }
            }
        }
        owner = {
            add_monthly_resource_mult = {
                resource = unity
                value = @tier5unityreward
                min = @tier5unitymin
                max = @tier5unitymax
            }
        }
    }
    option = {
        name = mem_into_the_woods.5.e
        trigger = {
            owner = {
                OR = {
                    has_ethic = ethic_fanatic_xenophobe
                    has_ethic = ethic_xenophobe
                }
            }
        }
        owner = {
            add_monthly_resource_mult = {
                resource = unity
                value = @tier5unityreward
                min = @tier5unitymin
                max = @tier5unitymax
            }
        }
    }
    option = {
        name = mem_into_the_woods.5.f
        trigger = {
            owner = {
                OR = {
                    has_valid_civic = civic_hive_devouring_swarm
                }
            }
        }
        owner = {
            add_monthly_resource_mult = {
                resource = food
                value = @tier4materialreward
                min = @tier4materialmin
                max = @tier4materialmax
            }
        }
    }
    option = {
        name = mem_into_the_woods.5.g
        trigger = {
            owner = {
                OR = {
                    has_valid_civic = civic_machine_terminator
                }
            }
        }
        owner = {
            add_monthly_resource_mult = {
                resource = unity
                value = @tier5unityreward
                min = @tier5unitymin
                max = @tier5unitymax
            }
        }
    }
}