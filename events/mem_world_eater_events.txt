# World-Eater
# Code and text by ViolentBeetle
# Idea borrowed by u/Dmaned11123 (Though it's not all that original, is it?)
# The spherical mesh is provided by Gigastructural Engineering people

namespace = mem_world_eater

# Gatekeeper
event = {
    id = mem_world_eater.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
    }

    immediate = {
        random_list = {
            0 = {}
            35 = {
                random_country = {
                    limit = { is_country_type = global_event }
                    country_event = { id = mem_world_eater.2 days = 360 random = 360 }
                }
            }
        }
    }
}

# Actual beginning
country_event = {
    id = mem_world_eater.2
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        NOT = { has_global_flag = mem_world_eater_started }
    }

    immediate = {
        set_global_flag = mem_world_eater_started
    }
}