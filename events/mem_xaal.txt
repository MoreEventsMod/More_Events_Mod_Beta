# Xaal Precusors
# By ViolentBeetle

namespace = mem_xaal

# Planet changed class
country_event = {
	id = mem_xaal.1
	title = mem_xaal.1.name
	desc = {
		text = mem_xaal.1.desc.cold
		trigger = {
			from = { is_cold = yes }
		}
	}
	desc = {
		text = mem_xaal.1.desc.dry
		trigger = {
			from = { is_dry = yes }
		}
	}
	desc = {
		text = mem_xaal.1.desc.wet
		trigger = {
			from = { is_wet = yes }
		}
	}
	desc = {
		text = mem_xaal.1.desc.gaia
		trigger = {
			from = { is_planet_class = pc_gaia }
		}
	}

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_alien_nature

	option = {
		name = INTERESTING
	}
}

# Relic world created
country_event = {
	id = mem_xaal.2
	title = mem_xaal.2.name
	desc = mem_xaal.2.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_relic_world_building

	option = {
		name = mem_xaal.2.a
		trigger = {
			is_xenophile = no
		}
	}

	option = {
		name = mem_xaal.2.a.phile
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
}

# Shielded
country_event = {
	id = mem_xaal.3
	title = mem_xaal.3.name
	desc = mem_xaal.3.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_shielded_planet

	option = {
		name = mem_xaal.3.a
		trigger = {
			is_xenophile = no
			is_xenophobe = no
		}
	}
	option = {
		name = mem_xaal.3.a.phile
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	option = {
		name = mem_xaal.3.a.phobe
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}
}

# Shattered
country_event = {
	id = mem_xaal.4
	title = mem_xaal.4.name
	desc = mem_xaal.4.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_shattered_planet

	option = {
		name = mem_xaal.3.a
		trigger = {
			is_xenophile = no
			is_xenophobe = no
		}
	}
	option = {
		name = mem_xaal.3.a.phile
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	option = {
		name = mem_xaal.3.a.phobe
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}
}

# Phased
country_event = {
	id = mem_xaal.5
	title = mem_xaal.5.name
	desc = mem_xaal.5.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_planet_beam

	option = {
		name = mem_xaal.5.a
	}
}

# Presap spawn
country_event = {
	id = mem_xaal.6
	title = mem_xaal.6.name
	desc = mem_xaal.6.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_alien_cavemen

	immediate = {
		set_country_flag = found_presapients
	}

	option = {
		name = uplift.6000.a
		trigger = {
			owner = { has_technology = "tech_epigenetic_triggers" }
		}
	}

	option = {
		name = uplift.6000.b
		trigger = {
			owner = { NOT = { has_technology = "tech_epigenetic_triggers" } }
		}
	}
}

# Primitives
country_event = {
	id = mem_xaal.7
	title = mem_xaal.7.name
	desc = mem_xaal.7.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_medieval_alien_civilization

	immediate = {
		establish_communications_no_message = last_created_country
	}

	option = {
		name = INTERESTING
	}
}

# Tomb world
country_event = {
	id = mem_xaal.8
	title = mem_xaal.8.name
	desc = mem_xaal.8.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_nuclear_explosion

	option = {
		name = mem_xaal.8.a
		trigger = {
			is_xenophile = no
			is_xenophobe = no
		}
	}
	option = {
		name = mem_xaal.8.a.phile
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	option = {
		name = mem_xaal.8.a.phobe
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}
}

# Colony appeared
country_event = {
	id = mem_xaal.9
	title = mem_xaal.9.name
	desc = mem_xaal.9.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_metropolis

	option = {
		name = mem_xaal.9.a
	}
}

# Artefact cache popped up
country_event = {
	id = mem_xaal.10
	title = mem_xaal.10.name
	desc = mem_xaal.10.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_ancient_records

	option = {
		name = mem_xaal.10.a
		add_resource = {
			minor_artifacts = 25
		}
	}
}

# Failure
country_event = {
	id = mem_xaal.11
	title = mem_xaal.11.name
	desc = mem_xaal.11.desc

	is_triggered_only = yes

	location = from
	show_sound = event_mystic_reveal
	picture = GFX_evt_alien_planet

	option = {
		name = mem_xaal.11.a
	}
}

### FIRST DIG SITE ###
fleet_event = {
	id = mem_xaal.21
	title = mem_xaal.21.name
	desc = mem_xaal.21.desc

	archaeology = yes

	is_triggered_only = yes
	show_sound = event_finding_loot
	picture = GFX_evt_derelict_interior

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

	option = {
		name = DIG
	}
}
fleet_event = {
	id = mem_xaal.22
	title = mem_xaal.21.name
	desc = mem_xaal.21.desc

	archaeology = yes

	is_triggered_only = yes
	show_sound = event_finding_loot
	picture = GFX_evt_derelict_interior

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

	option = {
		name = DIG
	}
}
fleet_event = {
	id = mem_xaal.23
	title = mem_xaal.21.name
	desc = mem_xaal.21.desc

	archaeology = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
    }

	is_triggered_only = yes
	show_sound = event_finding_loot
	picture = GFX_evt_derelict_interior

	option = {
		name = DIG
	}
}