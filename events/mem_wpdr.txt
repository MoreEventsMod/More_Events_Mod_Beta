# Weapon Platform Deployment Rig
# By Violent Beetle

namespace = mem_wpdr

# Rig's spawning loop
country_event = {
	id = mem_wpdr.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_owned_fleet = {
			IF = {
				limit = {
					OR = {
						count_fleet_ships = {
							limit = {
								is_ship_size = mem_wpdr_tiny_ship
							}
							count < 10
						}
						is_in_combat = yes
					}
				}
				mem_wpdr_create_random_platform = yes
			}
			ELSE_IF = {
				limit = {
					count_fleet_ships = {
						limit = {
							is_ship_size = mem_wpdr_tiny_ship
						}
						count > 10
					}
				}
				random_owned_ship = {
					limit = {
						is_ship_size = mem_wpdr_tiny_ship
					}
					destroy_ship = this
				}
			}
		}
		country_event = {
			id = mem_wpdr.1
			days = 7
		}
	}
}