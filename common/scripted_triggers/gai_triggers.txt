gai_build_fleet = {
	OR = {
		AND = {
			is_at_war = yes
			used_naval_capacity_percent < 0.95
		}
		AND = {
			is_at_war = no
			has_monthly_income = {
				resource = energy
				value > -30
			}
			has_monthly_income = {
				resource = alloys
				value > 5
			}
			OR = { 
				has_resource = { type = alloys amount > 350 }
				ai_colonize_plans = 0
				any_neighbor_country = {
					OR = {
						is_rival = prev
						is_hostile_to = prev
					}
					relative_power = {
						who = prev
						category = fleet
						value > equivalent
					}
				}
			}
			used_naval_capacity_percent < 0.95
		}
	}
	years_passed > 9
}

gai_death_spiral = {
	planet = {
		exists = owner
		owner = {
			gai_low_minerals = yes
			gai_low_energy = yes
			is_ai = yes
			is_ai = no
		}
	}
}

gai_build_district ={
	planet = {
		has_building_construction = no
		OR = {
			free_jobs < 2
			free_housing < 0
			num_districts = { type = any value < 5 }
		}
	}
}

gai_build_building = {
	planet = {
		OR = {
			and = {
				free_jobs < 2
				OR = {
					free_district_slots = 0
					is_capital = yes
					AND = {
						num_free_districts = { type = district_farming value = 0 }
						num_free_districts = { type = district_mining value = 0 }
						num_free_districts = { type = district_generator value = 0 }
					}
					AND = {
						num_free_districts = { type = district_farming_uncapped value = 0 }
						num_free_districts = { type = district_mining_uncapped value = 0 }
						num_free_districts = { type = district_generator_uncapped value = 0 }
					}
				}
			}
			gai_stop_pop = yes
		}
	}
}

gai_build_power_district ={
	planet = {
		has_building_construction = no
		NOT = { has_modifier = living_sea }
		OR = {
			free_jobs < 3
			any_owned_pop = { 
				NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
				OR = { 
					is_unemployed = yes 
					has_job = servant
				}
				NOR = {
					is_pop_category = specialist
					is_pop_category = ruler
				}
			}
		}
	}
}

gai_stop_pop = {
	OR = {
		owner = { is_ai = no }
		AND = {
			owner = { is_ai = yes }
			free_housing < 1
			free_district_slots = 0
			count_pops >= 20
		}
		AND = {
			count_pops >= 75
			free_jobs = 0
		}
	}
}

gai_start_pop = {
	OR = {
		owner = { is_ai = no }
		AND = {
			owner = {
				is_ai = yes
			}
			free_housing > 0
			OR = {
				free_jobs > 0
				count_pops < 75
			}
		}
	}
}

gai_eligible_worker_job = {
	OR = {
		AND = {
			is_unemployed = no
			is_pop_category = specialist
		}
		AND = {	
			is_unemployed = no
			is_pop_category = ruler
		}
	}
}

gai_eligible_specalist_job = {
	OR = {
		is_unemployed = yes
		AND = {
			is_unemployed = no
			OR = { 
				is_pop_category = specialist
				is_pop_category = robot_servant
				is_pop_category = slave
			}
		}
	}
}

gai_eligible_ruler_job = {
	OR = {
		is_unemployed = yes
		AND = {
			is_unemployed = no
			OR = { 
				is_pop_category = ruler
				AND = {
					owner = { has_technology = tech_synthetic_workers }		
					owner = { has_policy_flag = ai_full_rights }
				}
			}
		}
	}
}


gai_special_job = {
	OR = {
		owner = { is_ai = no }
		AND = {
			owner = { is_ai = yes }
			OR = {
				is_pop_category = complex_drone
				AND = {	
					is_unemployed = yes
					is_pop_category = simple_drone
				}
			}
		}
	}
}

gai_low_minerals = {
	owner = { 
		has_country_flag = gai_need_minerals
		is_ai = yes
	}
}

gai_low_food = {
	owner = { has_country_flag = gai_need_food }
}

gai_low_energy = {
	owner = { has_country_flag = gai_need_energy }
}

gai_low_goods = {
	owner = {
		has_resource = { type = consumer_goods amount < 100 }
		has_monthly_income = {
			resource = consumer_goods
			value < 1
		}
	}
}

gai_has_motes = {
	exists = owner
	OR = { 
		owner = {
			is_ai = yes
			OR = { 
				has_monthly_income = {
					resource = volatile_motes
					value > 0
				}
				has_resource = { type = volatile_motes amount > 0 }
			}
		}
		owner = { is_ai = no }
		IF = {
			limit = {
				exists = event_target:time_loop_country
			}
			owner = { is_same_value = event_target:time_loop_country }
		}
	}
}

gai_has_crystals = {
	exists = owner
	OR = { 
		owner = {
			is_ai = yes
			OR = {
				has_monthly_income = {
					resource = rare_crystals
					value > 0
				}
				has_resource = { type = rare_crystals amount > 0 }
			}
		}
		owner = { is_ai = no }
		IF = {
			limit = {
				exists = event_target:time_loop_country
			}
			owner = { is_same_value = event_target:time_loop_country }
		}
	}
}

gai_has_exotic_gases = {
	exists = owner
	OR = { 
		owner = {
			is_ai = yes
			OR = {
				has_monthly_income = {
					resource = exotic_gases
					value > 0
				}
				has_resource = { type = exotic_gases amount > 0 }
			}
		}
		owner = { is_ai = no }
		IF = {
			limit = {
				exists = event_target:time_loop_country
			}
			owner = { is_same_value = event_target:time_loop_country }
		}
	}
}

gai_has_nanites = {
	exists = owner
	OR = { 
		owner = {
			is_ai = yes
			OR = {
				has_monthly_income = {
					resource = nanites
					value > 0
				}
				has_resource = { type = nanites amount > 0 }
			}
		}
		owner = { is_ai = no }
	}
}

gai_war_fleet = {
	has_hp_percentage > 0.6
	IF = {
		limit = {
			owner = { has_technology = tech_doctrine_fleet_size_5 }
		}
		fleet_size > 100
	}
	ELSE_IF = {
		limit = {
			owner = { has_technology = tech_doctrine_fleet_size_4 }
		}
		fleet_size > 80
	}
	ELSE_IF = {
		limit = {
			owner = { has_technology = tech_doctrine_fleet_size_3 }
		}
		fleet_size > 60
	}
	ELSE_IF = {
		limit = {
			owner = { has_technology = tech_doctrine_fleet_size_2 }
		}
		fleet_size > 40
	}
	ELSE_IF = {
		limit = {
			owner = { has_technology = tech_doctrine_fleet_size_1 }
		}
		fleet_size > 24
	}
	ELSE_IF = {
		limit = {
			NOT = { owner = { has_technology = tech_doctrine_fleet_size_1 } }
		}
		fleet_size > 14
	}
}